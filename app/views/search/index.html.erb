<%= form_for search_path, method: :get do |f| %>
  <div style="display: flex; align-items: flex-grow">
    <%= text_field_tag :q, params[:q], class: 'string', style: 'flex-grow: 1; margin-right: 0.5em', autofocus: true %>
    <%= button_tag 'Search', value: nil, class: 'button orange' %>
  </div>
<% end %>

<% if params[:q] %>
  <hr>

  <% if @results.any? %>
    <div class="link-list">
      <% @results.each do |result| %>
        <% if result.is_a?(Project) %>
          <%= link_to result.name, project_path(result) %>
        <% elsif result.is_a?(Todo) %>
          <%= link_to result.name, todo_path(result) %>
        <% else %>
          <!-- TODO -->
        <% end %>
      <% end %>
    </div>
  <% else %>
    <p>No results.</p>
  <% end %>
<% end %>
