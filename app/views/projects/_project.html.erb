<div class="project list-item">
  <%= link_to(project.complete? ? incomplete_project_path(project, return_to: projects_path) : complete_project_path(project, return_to: projects_path), data: { method: :post }, class: "complete-toggle #{project.complete? ? "complete" : "incomplete"}") do %>
    <div class="icon"><%= project.complete? ? incomplete_icon : complete_icon %></div>
  <% end %>
  <div class="name">
    <%= link_to project_path(project), class: "project #{project.status}" do %>
      <%= project.name %>
      <%= due_date_badge(project.due_date) %>
    <% end %>
  </div>
  <div class="progress">
    <% if project.todos.any? %>
      <span class="badge">
        <%= (project.todos.complete.count.to_f / project.todos.count * 100).round(1) %>% Complete
      </span>
    <% end %>
  </div>
</div>
